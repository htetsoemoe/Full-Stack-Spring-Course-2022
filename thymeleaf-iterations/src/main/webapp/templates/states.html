<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Iteration Demo</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	crossorigin="anonymous"></script>

<link rel="stylesheet" data-th-href="@{/resources/app.css}">
</head>
<body>
	<div class="container mt-5">
		<h1>Iteration Demo</h1>

		<div data-th-switch="${size}">
			<div data-th-case="0" class="alert alert-info">
				<p>There is no data. Please upload the data.</p>
				<a href="#" id="uploadBtn" class="btn btn-primary">Upload</a>

				<script data-th-src="@{/resources/app.js}" type="text/javascript"></script>
				
				<form enctype="multipart/form-data" id="uploadForm"
					data-th-action="@{/states}" method="post" class="d-none">
					
					<input type="file" name="file" id="uploadInput" />
					
				</form>
			</div>

			<table data-th-case="*" class="table">
				<thead>
					<tr>
						<th>ID</th>
						<th>Name</th>
						<th>Region</th>
						<th>Capital</th>
						<th>Status</th>
					</tr>
				</thead>
				<tbody>
					<tr data-th-each="item, status : ${list}" data-th-object="${item}"
						data-th-class="${status.odd} ? 'odd'"
						data-th-classappend="${status.first} ? 'first' : (${status.last} ? 'last')">

						<td data-th-text="*{id}"></td>
						<td data-th-text="*{name}"></td>
						<td data-th-text="*{region}"></td>
						<td data-th-text="*{capital}"></td>
						<td data-th-text="|${status.count} / ${status.size}|"></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>